"use strict";(self.webpackChunk_okp4_docs=self.webpackChunk_okp4_docs||[]).push([[13409],{20732:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>n,toc:()=>l});var o=i(87462),a=(i(67294),i(3905));i(8209);const s={sidebar_class_name:"hidden"},r="Consume resources",n={unversionedId:"academy/consume-resources",id:"academy/consume-resources",title:"Consume resources",description:"Reading time:  min",source:"@site/docs/academy/consume-resources.md",sourceDirName:"academy",slug:"/academy/consume-resources",permalink:"/academy/consume-resources",draft:!1,editUrl:"https://github.com/okp4/docs/edit/main/docs/academy/consume-resources.md",tags:[],version:"current",frontMatter:{sidebar_class_name:"hidden"},sidebar:"mainSidebar",previous:{title:"Video Tuto #3 - Ontology",permalink:"/tutorials/nonos-tuto-3"},next:{title:"Academy overview",permalink:"/academy/overview"}},c={},l=[{value:"Workflows: what are they?",id:"workflows-what-are-they",level:2},{value:"The life of a workflow from initiation to completion",id:"the-life-of-a-workflow-from-initiation-to-completion",level:2},{value:"The hidden service",id:"the-hidden-service",level:3},{value:"How rules are enforced in the Dataverse?",id:"how-rules-are-enforced-in-the-dataverse",level:2},{value:"Off-chain Orchestration",id:"off-chain-orchestration",level:3},{value:"One To Many",id:"one-to-many",level:3},{value:"Roles and responsibilities",id:"roles-and-responsibilities",level:3},{value:"Safety mechanisms - To be completed",id:"safety-mechanisms---to-be-completed",level:2}],h={toc:l};function d(e){let{components:t,...s}=e;return(0,a.kt)("wrapper",(0,o.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"consume-resources"},"Consume resources"),(0,a.kt)("i",null,"Reading time: ","13"," min"),(0,a.kt)("h2",{id:"workflows-what-are-they"},"Workflows: what are they?"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Workflows"),", in the context of the OKP4 protocol, refer to the sequences or processes that are initiated using the various digital resources and digital resources processing services shared within the OKP4 ecosystem. These workflows can involve datasets, algorithms, software, storage resources, computation resources, or any other resources that are part of the OKP4 Dataverse."),(0,a.kt)("p",null,"To be more precise, Digital Resources encompass various forms of data and information, which can be expressed, carried and stored in different formats. They serve as the raw material from which insights and new knowledge are derived. These resources can be classified into different categories, we can summarize here:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Bounded Digital Resources")," which have a finite size and are often accessed and analyzed as a whole. We call them datasets, and can be classified into structured data, such as databases or spreadsheets, and unstructured data, such as text documents, images, or videos, to name a few.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Digital Resource Processing Services")," are essential components that handle the transformation of these digital resources into actionable knowledge. They encompass various services, including data mining, machine learning, natural language processing, and statistical analysis."))),(0,a.kt)("p",null,"From this perspective, Digital Resource Processing Services serve as the structural and functional unit in the process of Knowledge creation or AI training."),(0,a.kt)("p",null,"This can be formalized very simply, with a set of resources as input and a set of produced resources as output:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"consume-resources-1",src:i(26071).Z,width:"1262",height:"551"})),(0,a.kt)("p",null,"Once we have defined the elementary processing unit, we can combine them together to form a more complex processing structure called a Workflow.\nA workflow is a plan that outlines a series of activities, where some activities depend on the output of others. These interdependencies form a Directed Acyclic Graph (DAG) structure, ensuring that the workflow progresses without circular references or loops.\nLet\u2019s consider an example to illustrate this concept:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"consume-resources-2",src:i(56512).Z,width:"1740",height:"410"})),(0,a.kt)("p",null,"In the example above, we have a simple use case which involves three datasets (D1, D2, D3) that are used to produce the final knowledge (D7) after a series of transformations (S1, S2, S3)."),(0,a.kt)("p",null,"In essence, workflows in OKP4 represent the practical application of the shared digital resources within its ecosystem, facilitating various tasks and operations by leveraging the power of decentralized data and resource sharing."),(0,a.kt)("h2",{id:"the-life-of-a-workflow-from-initiation-to-completion"},"The life of a workflow from initiation to completion"),(0,a.kt)("p",null,"Here's a detailed breakdown:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Initiation"),": A workflow begins when a consumer decides to leverage shared digital resources. This could be for various purposes like data analysis, machine learning training or inference, software development, or any other task that requires the use of resources. The consumer submits a transaction describing the requested workflow and providing tokens that will be distributed at the end of the workflow execution.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Resource Utilization"),": The workflow involves utilizing these resources according to the rules and governance mechanisms defined in the respective Zones within the OKP4 protocol. All resources access conditions must be met as well. The workflow transaction is accepted or rejected by the validators, according to its compliance with the rules.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Execution"),": During the workflow, different resources from the OKP4 Dataverse are accessed and used. This could involve processing data through specific algorithms, using software tools, or employing computation and storage resources.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Output and Integration"),": The output of these workflows may vary based on the nature of the task. It could be a new dataset, the results of data processing, software outputs such as trained AI, etc. This output might also contribute back to the Dataverse, further enriching the ecosystem.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Payments"),": Once the workflow is finished, tokens are sent to the different resource providers according to the business model. Excess tokens may be sent back to the consumer. Eventual slashing can be applied to providers who didn\u2019t provide the expected service.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("strong",{parentName:"p"},"Flexibility and Adaptation"),": Workflows in OKP4 are designed to be flexible, allowing for adaptation as per changing needs or rules within the Zones. This ensures that workflows can evolve in response to new opportunities or requirements."))),(0,a.kt)("h3",{id:"the-hidden-service"},"The hidden service"),(0,a.kt)("p",null,"An important concept to understand is that interacting with any digital resource requires a service. In the previous examples, we mentioned a specific digital resource being presented as input to a service, but the digital resource cannot exist without the service that makes it available within the workflow. This is typically the role of Storage Services, which provides access to digital resources under specific terms and conditions.\nIn the following example, the dataset D1 is accessed via the service S1, and the processing result is generated using S2, ultimately produced on S3."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"consume-resources-3",src:i(7931).Z,width:"1400",height:"1172"})),(0,a.kt)("p",null,"A workflow is merely a sequence of activities, taking inputs and producing outputs. So it can be conceptualized as a Service capable of performing specific functions, just like traditional services. This paradigm shift enables Workflows to be invoked in the protocol as a Service and to join the anything-as-a-service family."),(0,a.kt)("p",null,"When we think of Workflows as a Service, a new perspective emerges: workflows can invoke other workflows as sub-services, forming a multi-level hierarchy, to facilitate the composition and re-use of more complex treatments. What\u2019s more, these particular services can be seen as virtual services, since they consist only of the \u201cblueprint\u201d, the description of the workflow to be executed."),(0,a.kt)("h2",{id:"how-rules-are-enforced-in-the-dataverse"},"How rules are enforced in the Dataverse?"),(0,a.kt)("h3",{id:"off-chain-orchestration"},"Off-chain Orchestration"),(0,a.kt)("p",null,"The workflow is purely declarative and merely expresses the activities to be performed and how they are to be performed. However, its execution requires the coordination of the involved resources. Typically, this is achieved through a central authority responsible for managing this logic, acting as the conductor who directs each participant. It is at this juncture that the concept of Orchestration comes into play."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"consume-resources-4",src:i(32610).Z,width:"1400",height:"734"})),(0,a.kt)("p",null,"In its centralized perspective, orchestration relies on a single authority responsible for taking the necessary actions to accomplish a set of activities in response to a declarative expression of needs. This authority holds the logic for execution. Let\u2019s consider the example of Kubernetes \u2014 a well-known Container Orchestrator \u2014 its API enables the \u201cdeclaration\u201d of resources, and it\u2019ll take charge of managing the operations and lifecycle logic associated with these resources."),(0,a.kt)("p",null,"By adopting a decentralized approach, one would expect the blockchain to handle orchestration. However, due to its highly constrained communication capabilities with the external environment, it cannot fulfil this role effectively. Therefore, the most suitable approach is to delegate the execution of workflows to a dedicated off-chain resource: ",(0,a.kt)("strong",{parentName:"p"},"the Orchestration Service"),". This specific resource takes on the role of orchestration while the protocol maintains its position as the source of truth and ultimate authority to which it must adhere."),(0,a.kt)("p",null,"In the given diagram, we illustrate how an off-chain Orchestration Service interprets the instructions (plan) recorded on-chain (in a transaction) and arranges the communication with different services (off-chain) to execute the workflow."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"consume-resources-5",src:i(53360).Z,width:"1220",height:"993"})),(0,a.kt)("h3",{id:"one-to-many"},"One To Many"),(0,a.kt)("p",null,"We have thus introduced a new kind of Resource whose actual role is to drive the execution of workflows registered in the blockchain. However, this may seem to reduce the decentralization perspective by relying on a single entity. In reality, this is not the case."),(0,a.kt)("p",null,"Within the ecosystem, there can be numerous instances of different Orchestration Services operating, and the selection of the one to be utilized can be evaluated based on various criteria, which can be expressed within a Zone governance framework, for example."),(0,a.kt)("h3",{id:"roles-and-responsibilities"},"Roles and responsibilities"),(0,a.kt)("p",null,"The role and responsibilities of an Orchestration Service can be categorized into three main areas: control, integration and security."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Control"),": By control, we mean the mechanisms by which the work sequence is orchestrated. This includes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sequence Management: The Orchestration Service determines the sequence in which tasks and activities are executed within a workflow, ensuring that they are carried out in the correct order."),(0,a.kt)("li",{parentName:"ul"},"Flow Control: It manages the routing of tasks based on predefined conditions or rules, determining which activities should be executed next based on the outcomes of previous steps."),(0,a.kt)("li",{parentName:"ul"},"Exception Handling: The Orchestration Service handles exceptions or errors that may occur during the execution of tasks, allowing for appropriate actions to be taken, such as error logging, notifications, or rerouting.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Integration"),": By Integration, we mean that the Orchestration Service enables that data is where it is needed when it is needed in the form in which it is needed. The Orchestration Service facilitates the integration of data from various sources and systems, ensuring that the required data is available to execute tasks and activities within the workflow."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Security"),":"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Access control: The Orchestration Service applies Access Control policies defined in the Governance rules specified in the blockchain."),(0,a.kt)("li",{parentName:"ul"},"Authentication and authorization: The Orchestration Service manages the authentication and authorization required for interactions with orchestrated resources."),(0,a.kt)("li",{parentName:"ul"},"Audit trail: The Orchestration Service maintains an Audit Trail by recording all execution steps in the blockchain. Specifically, it records information in the ontology designed for this purpose on-chain. This provides a complete and immutable traceability of actions performed within the workflow, offering enhanced transparency and control.")),(0,a.kt)("h2",{id:"safety-mechanisms---to-be-completed"},"Safety mechanisms - To be completed"))}d.isMDXComponent=!0},26071:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/consume-resources-1-4bb6f9ebcd1808cfe6720419b6cfa9dd.webp"},56512:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/consume-resources-2-8d4cc8ce5df9668f214399e42e486a98.webp"},7931:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/consume-resources-3-289e58525e2206c2650f57887d7b4377.webp"},32610:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/consume-resources-4-8c40cca0c1e8e5df196956b23c0aec12.webp"},53360:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i.p+"assets/images/consume-resources-5-849876465c29f07c509915f881fd5d50.webp"}}]);